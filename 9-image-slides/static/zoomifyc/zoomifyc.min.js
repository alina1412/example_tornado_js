/*! Zoomifyc - v0.2.0 - https://github.com/celineWong7/zoomifyc - (c) 2020 Wang Xiaolin - MIT */

var zoomifyc={};zoomifyc={curImage:null,curIndex:0,allImage:null,_img:null,_content:null,isShow:!1,rotate:0,scale:1,grabbing:!1,translateX:0,translateY:0,init:function(o){zoomifyc.createWrap(),(zoomifyc.allImage=o).addClass("zoomifyc").on("click",function(o){zoomifyc.curImage=$(this),zoomifyc.curIndex=zoomifyc.allImage.index(zoomifyc.curImage),zoomifyc.showWrap(zoomifyc.curImage.attr("src"))}),zoomifyc.initMouseScroll(),zoomifyc.initGrap(),zoomifyc.initPageEvent()},reset:function(){zoomifyc.setTransform(1,0,0,0)},createWrap:function(){if(!(0<$("#zoomifycWrap").length)){var o=$('<div id="zoomifycWrap" style="display:none;"></div>'),i=$('<div class="zoomifyc-shadow"></div>'),e=$('<div class="zoomifyc-content"></div>'),c=$('<span class="zoomifyc-close">×</span>'),n=$('<div class="zoomifyc-switch"></div>'),t=$('<span class="prev">&lt;</span>'),a=$('<span class="next">&gt;</span>'),m=$('<div class="zoomifyc-imgbox"></div>'),r=$('<img class="zoomifyc-img" src="" >'),f=$('<div class="zoomifyc-tools"></div>'),s=$('<span class="prev" title="上一张">&lt;</span>'),A=$('<span class="next" title="下一张">&gt;</span>'),l=$('<span class="left-rotate" title="左旋90°"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABJUlEQVQ4y6WRsSuEcRjHP897KEqmK5NSJ4tISdkswmJQJhOjyWJisZoNyj8gpbNYLP4Hug2L4VJM5wYpH4M3vXfdubv3vuPzfJ/P7/k+P+ggdbiTp6PUO3VPHegHcu+vKupaL4OJupRuULVRF+pg1p80DYe6C9wCy8Az8JGxlIGjiPhq9/qQeqnuZ/OncSrqSjcRztXVFvWNro6qrqvHua+fQq7V0bzziVoEahFRyw0BZoCHfpIkwAiN35gL8gqM5xlWD9XFJI0ym3OJBaCSRMQn8KaWetxiEqhHRP2voJbVQpeAUK/UqebGlnrWCaQW1FN1u51hU71R59v059L+TrYeLYwTwAEwDTwC78AYUAKegJOIePkXks3N79cXU1A1Ir5beX8AuajeueMcwmIAAAAASUVORK5CYII="></span>'),y=$('<span class="right-rotate" title="右旋90°"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABJUlEQVQ4y6WRsSuEcRjHP897KEqmK5NSJ4tISdkswmJQJhOjyWJisZoNyj8gpbNYLP4Hug2L4VJM5wYpH4M3vXfdubv3vuPzfJ/P7/k+P+ggdbiTp6PUO3VPHegHcu+vKupaL4OJupRuULVRF+pg1p80DYe6C9wCy8Az8JGxlIGjiPhq9/qQeqnuZ/OncSrqSjcRztXVFvWNro6qrqvHua+fQq7V0bzziVoEahFRyw0BZoCHfpIkwAiN35gL8gqM5xlWD9XFJI0ym3OJBaCSRMQn8KaWetxiEqhHRP2voJbVQpeAUK/UqebGlnrWCaQW1FN1u51hU71R59v059L+TrYeLYwTwAEwDTwC78AYUAKegJOIePkXks3N79cXU1A1Ir5beX8AuajeueMcwmIAAAAASUVORK5CYII="></span>'),z=$('<span title="关闭">×</span>');m.append(c,r),n.append(t,a),f.append(s,A,l,y,z),e.append(n,f,m),o.append(i,e),$("body").append(o),zoomifyc._content=e,zoomifyc._img=r,i.on("click",zoomifyc.hideWrap),c.on("click",zoomifyc.hideWrap),z.on("click",zoomifyc.hideWrap),t.on("click",zoomifyc.prev),s.on("click",zoomifyc.prev),a.on("click",zoomifyc.next),A.on("click",zoomifyc.next),l.on("click",function(){zoomifyc.rotate-=90,zoomifyc.setTransform(1,null,0,0)}),y.on("click",function(){zoomifyc.rotate+=90,zoomifyc.setTransform(1,null,0,0)})}},hideWrap:function(){zoomifyc.isShow=!1,$("#zoomifycWrap").hide(),$("#zoomifycWrap .zoomifyc-img").attr("src","")},showWrap:function(o){zoomifyc.isShow=!0,zoomifyc.reset(),$("#zoomifycWrap").show(),$("#zoomifycWrap .zoomifyc-img").attr("src",o),zoomifyc.calSizeAndPosition(),0==zoomifyc.curIndex?$(".zoomifyc-switch .prev").hide():$(".zoomifyc-switch .prev").show(),zoomifyc.curIndex==zoomifyc.allImage.length-1?$(".zoomifyc-switch .next").hide():$(".zoomifyc-switch .next").show()},reposition:function(){zoomifyc.isShow&&zoomifyc.calSizeAndPosition()},prev:function(){0!=zoomifyc.curIndex&&zoomifyc.allImage.eq(zoomifyc.curIndex-1).trigger("click")},next:function(){zoomifyc.curIndex!=zoomifyc.allImage.length-1&&zoomifyc.allImage.eq(zoomifyc.curIndex+1).trigger("click")},calSizeAndPosition:function(o){var i=zoomifyc.curImage,e=i[0].naturalWidth||1/0,c=i[0].naturalHeight||1/0,n="odd"==o?c:e,t="odd"==o?e:c,a=$(window).width(),m=$(window).height(),r=Math.min(n,.98*a)/n,f=Math.min(t,.98*m)/t,s=Math.min(r,f);$("#zoomifycWrap .zoomifyc-imgbox").css({width:n*s,height:t*s}),$("#zoomifycWrap .zoomifyc-content").css({height:$(window).height(),top:$(document).scrollTop()})},setTransform:function(o,i,e,c){o&&(zoomifyc.scale=o),null==i&&null==i||(zoomifyc.rotate=i),null==e&&null==e||(zoomifyc.translateX=e),null==c&&null==c||(zoomifyc.translateY=c);var n="scale("+zoomifyc.scale+") translateX("+zoomifyc.translateX+"px) translateY("+zoomifyc.translateY+"px) rotate("+zoomifyc.rotate+"deg)";zoomifyc._img.css({"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,"-o-transform":n,transform:n,"transform-origin":"center center"})},initMouseScroll:function(){var o=-1<navigator.userAgent.indexOf("Firefox")?"DOMMouseScroll":"mousewheel";function i(o){zoomifyc._preventDefault(o),0<parseInt(o.wheelDelta||-o.detail)?zoomifyc.biggerImage():zoomifyc.smallerImage()}document.attachEvent?zoomifyc._content[0].attachEvent("on"+o,function(o){i(o)}):document.addEventListener&&zoomifyc._content[0].addEventListener(o,function(o){i(o)},!1)},biggerImage:function(){zoomifyc.scale+=.1,15<=zoomifyc.scale?zoomifyc.scale=15:zoomifyc.setTransform()},smallerImage:function(){zoomifyc.scale-=.1,zoomifyc.scale<=.1?zoomifyc.scale=.1:zoomifyc.setTransform()},initGrap:function(){var a=0,m=0,r=0,f=0,i=zoomifyc._img;zoomifyc._img;i.on("mousedown",function(o){zoomifyc.grabbing=!0,o||(o=window.e,i.onselectstart=function(){return!1}),a=o.clientX,m=o.clientY,r=zoomifyc.translateX,f=zoomifyc.translateY}),$(document).on("mouseup",function(){zoomifyc.grabbing=!1,r=zoomifyc.translateX,f=zoomifyc.translateY}),$(document).on("mousemove",function(o){var i=o||window.event;if(zoomifyc.grabbing){var e=i.clientX,c=i.clientY,n=e-a,t=c-m;return zoomifyc.translateX=r+n,zoomifyc.translateY=f+t,zoomifyc.setTransform(),zoomifyc._preventDefault(),!1}})},initPageEvent:function(){$(window).on("resize",zoomifyc.reposition),$(document).on("scroll",zoomifyc.reposition),$(document).on("keydown",function(o){o=o||window.event,zoomifyc._preventDefault(o),o.keyCode&&zoomifyc.isShow&&(37!=o.keyCode&&65!=o.keyCode||zoomifyc.prev(),39!=o.keyCode&&68!=o.keyCode||zoomifyc.next(),38!=o.keyCode&&87!=o.keyCode||zoomifyc.biggerImage(),40!=o.keyCode&&83!=o.keyCode||zoomifyc.smallerImage(),27==o.keyCode&&zoomifyc.isShow&&(1!=zoomifyc.scale||0!=zoomifyc.rotate||0!=zoomifyc.translateX||0!=zoomifyc.translateY?zoomifyc.reset():zoomifyc.hideWrap()),82==o.keyCode&&(zoomifyc.rotate+=90,zoomifyc.setTransform(1,null,0,0)))})},_preventDefault:function(o){return o&&o.preventDefault?o.preventDefault():window.event.returnValue=!1,!1}};var Util={};function getCss(o){return $(".zoomifyc-img").css(o)}Util={oddOReven:function(o){return(o=parseInt(o))%2==0?"even":"odd"}};